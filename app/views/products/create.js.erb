$("#products").prepend('<%= j render @product %>');

var $tbody = $('table tbody');
$tbody.find('tr').sort(function(a,b){ 
    var tda = $(a).find('td:eq(1)').text();
    var tdb = $(b).find('td:eq(1)').text(); 
    return tda > tdb ? 1 
           : tda < tdb ? -1 
           : 0;           
}).appendTo($tbody);
$(".order-product").prepend($("<option>", { value: "<%= @product.id %>", text: "<%= @product.name %>" }));
$(".order-product").last().val("<%= @product.name %>");
$("#new_product").modal("hide");
#edit_qbo_account.modal.fade
  = simple_form_for @qbo_account, remote: true, validate: true do |f|
    .modal-dialog
      .modal-content
        .modal-header
          button.close aria-hidden="true" data-dismiss="modal" type="button"  Ã—
          h4.modal-title Edit QBO Account
        .modal-body
          .form-inputs
            = f.input :name
            = f.input :account_type, collection: ["Bank", "Other Current Asset", "Fixed Asset", "Other Asset", "Accounts Receivable", "Equity",
                                                  "Expense", "Other Expense", "Cost Of Goods Sold", "Accounts Payable", "Credit Card", "Long Term Liability",
                                                  "Other Current Liability", "Income", "Other Income"], input_html: { id: "account_type" }
            = f.input :account_sub_type, collection: ["#{@qbo_account.account_sub_type || ''}"], input_html: { id: "account_sub_type" }                                
        .modal-footer
          button.btn.elegant-color[type="button" data-dismiss="modal"] Close
          = f.button :submit, class: 'btn unique-color'
javascript:
  $(document).ready(function() {
    $(".modal").on("shown.bs.modal", function(e) {
      $('form[data-validate]').enableClientSideValidations();
    });
    $("#account_type").on("change", function(e) {
      var selectedValue = e.target.value;
      switch(selectedValue) {
        case "Bank":
          var newOptions = ["CashOnHand", "Checking", "MoneyMarket", "RentsHeldInTrust", "Savings", "TrustAccounts"];
          break;
        case "Other Current Asset":
          var newOptions = ["AllowanceForBadDebts", "DevelopmentCosts", "EmployeeCashAdvances", "OtherCurrentAssets", "Inventory", "Investment_MortgageRealEstateLoans", "Investment_Other", "Investment_TaxExemptSecurities", "Investment_USGovernmentObligations", "LoansToOfficers", "LoansToOthers", "LoansToStockholders", "PrepaidExpenses", "Retainage", "UndepositedFunds"];
          break;
        case "Fixed Asset":
          var newOptions = ["AccumulatedDepletion", "AccumulatedDepreciation", "DepletableAssets", "FurnitureAndFixtures", "Land", "LeaseholdImprovements", "OtherFixedAssets", "AccumulatedAmortization", "Buildings", "IntangibleAssets", "MachineryAndEquipment", "Vehicles"];
          break;
        case "Other Asset":
          var newOptions = ["LeaseBuyout", "OtherLongTermAssets", "SecurityDeposits", "AccumulatedAmortizationOfOtherAssets", "Goodwill", "Licenses", "OrganizationalCosts"];
          break;
        case "Accounts Receivable":
          var newOptions = ["AccountsReceivable"];
          break;
        case "Equity":
          var newOptions = ["OpeningBalanceEquity", "PartnersEquity", "RetainedEarnings", "AccumulatedAdjustment", "OwnersEquity", "PaidInCapitalOrSurplus", "PartnerContributions", "PartnerDistributions", "PreferredStock", "CommonStock", "TreasuryStock"];
          break;
        case "Expense":
          var newOptions = ["AdvertisingPromotional", "BadDebts", "BankCharges", "CharitableContributions", "Entertainment", "EntertainmentMeals", "EquipmentRental", "FinanceCosts", "GlobalTaxExpense", "Insurance", "InterestPaid", "LegalProfessionalFees", "OfficeGeneralAdministrativeExpenses", "OtherMiscellaneousServiceCost", "PromotionalMeals", "RentOrLeaseOfBuildings", "RepairMaintenance", "ShippingFreightDelivery", "SuppliesMaterials", "Travel", "TravelMeals", "Utilities", "Auto", "CostOfLabor", "DuesSubscriptions", "PayrollExpenses", "TaxesPaid", "UnappliedCashBillPaymentExpense "];
          break;
        case "Other Expense":
          var newOptions = ["Depreciation", "ExchangeGainOrLoss", "OtherMiscellaneousExpense", "PenaltiesSettlements", "Amortization"];
          break;
        case "Cost Of Goods Sold":
          var newOptions = ["EquipmentRentalCos", "OtherCostsOfServiceCos", "ShippingFreightDeliveryCos", "SuppliesMaterialsCogs", "CostOfLaborCos"];
          break;
        case "Accounts Payable":
          var newOptions = ["AccountsPayable"];
          break;
        case "Credit Card":
          var newOptions = ["CreditCard"];
          break;
        case "Long Term Liability":
          var newOptions = ["NotesPayable", "OtherLongTermLiabilities", "ShareholderNotesPayable"];
          break;
        case "Other Current Liability":
          var newOptions = ["DirectDepositPayable", "LineOfCredit", "LoanPayable", "GlobalTaxPayable", "GlobalTaxSuspense", "OtherCurrentLiabilities", "PayrollClearing", "PayrollTaxPayable", "PrepaidExpensesPayable", "RentsInTrustLiability", "TrustAccountsLiabilities", "FederalIncomeTaxPayable", "InsurancePayable", "SalesTaxPayable", "StateLocalIncomeTaxPayable"];
          break;
        case "Income":
          var newOptions = ["NonProfitIncome", "OtherPrimaryIncome", "SalesOfProductIncome", "ServiceFeeIncome", "DiscountsRefundsGiven", "UnappliedCashPaymentIncome"];
          break;
        case "Other Income":
          var newOptions = ["DividendIncome", "InterestEarned", "OtherInvestmentIncome", "OtherMiscellaneousIncome", "TaxExemptInterest"];
          break;
      }
      var $el = $("#account_sub_type");
      console.log("calling empty...");
      $el.empty();
      $.each(newOptions, function(key, value) {
        $el.append($("<option></option>")
           .attr("value", value).text(value));
      });
    });
  });

